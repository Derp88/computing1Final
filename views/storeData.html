<%
from bottle import request
from db_interact import db_interactor
database_io = db_interactor()

matchNumber = request.forms.get("matchNumberForm")
teamNumber = request.forms.get("teamNumberForm")
autoLowScore = int(request.forms.get("autoLowScoreForm")) * 2
autoHighScore = int(request.forms.get("autoHighScoreForm")) * 4
movedOffLine = request.forms.get("movedOffLineForm")
teleLowScore = request.forms.get("teleLowScoreForm")
teleHighScore = int(request.forms.get("teleHighScoreForm")) * 2
climbBarSpot = request.forms.get("climbBarSpotForm")

#Check to make sure the match the data is going into does not have more than 6 teams in it
matchData = database_io.returnMatchData(matchNumber)
numOfTeamsInMatch = len(matchData)



database_io.setMatchData(matchNumber, teamNumber, autoLowScore, autoHighScore, movedOffLine, teleLowScore, teleHighScore, climbBarSpot)
#currentRecord = database_io.returnTeamMatchData(matchNumber, teamNumber) DEBUG USE
#allRecords = database_io.returnAllData() DEBUG USE
%>

<!DOCTYPE HTML>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <title>Scouting - Confirmation</title>
    <link rel = "stylesheet" type = "text/css" href = "/static/style.css"/>
</head>
<body>
    <h1>Your data was sent!</h1>
    <p>
        <a href = "/">Click to return to main menu</a>
    </p>
    <h2>The data you sent</h2>
    <p>
        Match: {{ matchNumber }} <br>
        Team Number : {{ teamNumber }} <br>
        Moved from start in auto: {{ movedOffLine }} <br>
        Auto Low Goal Score: {{ autoLowScore }} <br>
        Auto High Goal Score: {{ autoHighScore }} <br>
        Teleoperated Low Goal Score: {{ teleLowScore}} <br>
        Teleoperated High Goal Score: {{ teleHighScore }} <br>
        What bar did they climb to: {{ climbBarSpot }}
    </p>
    <h3>
        There are {{numOfTeamsInMatch}} teams in Match {{matchNumber}}
    </h3>
    <!-- DEBUG USE
    <h3>What was reported in the database</h3>
    <p>
        {{ currentRecord }}
    </p>
    <h4>What is in the database</h4>
    <p>
        {{ allRecords }}
    </p>
    -->
</body>
</html>